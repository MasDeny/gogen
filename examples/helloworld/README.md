# Helloworld

This is a very minimal setup of helloworld application generated by gogen. This tutorial will cover the basic gogen code skeleton and simple API to outputing the hello message.

## Step by step to produce the same code with gogen

First we need to create a helloworld domain. So open your terminal / console and type

```shell
$ gogen init helloworld
```

This command will create some basic folder and files

Then create the GetHello usecase

```shell
$ gogen usecase GetHello
```

This command will create our first usecase named `GetHello`

Open the `domain_helloworld/usecase/gethello/inport.go`. You may find two struct `InportRequest` and `InportResponse`

Add `Message` field with type `string`  into the `InportResponse`

```go
type InportResponse struct {
	Message string
}
```

Open the `domain_helloworld/usecase/gethello/interactor.go`. 

Add this line right before `return` statement. 

```go
res.Message = "Hello World"
```

Now create the gateway with name `empty`. You can name it anything. Since this is an helloworld sample, the gateway implementation has no method to implement. We are not use the gateway yet but it still needed because it is gogen requirement.

```shell
$ gogen gateway empty
```

Running the comment above will create the gateway `domain_helloworld/gateway/empty/gateway.go`. For now we can ignore this

Then create a controller with name `restapi` 

```shell
$ gogen controller restapi
```
If you open the file `domain_helloworld/controller/restapi/handler_gethello.go`, Please noted that gogen already automatically adding this line 

```go
type response struct {
    Message string `json:"message"`
}
```

Also, there is an error because we use dependency to gin-gonic. We need to run this command to download the dependency
```shell
$ go mod tidy
```

it will download the required dependency to your `go.mod`

Now we ready create the application. Application will bind `controller`, `interactor` and `gateway` together. We named our application name as `hello`

```shell
$ gogen application hello
```

Now we ready to run the application.

```shell
$ go run main.go hello
```

The output
```shell
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /ping                     --> helloworld/shared/infrastructure/server.NewGinHTTPHandler.func1 (3 handlers)
[GIN-debug] GET    /gethello                 --> helloworld/domain_helloworld/controller/restapi.(*Controller).getHelloHandler.func1 (5 handlers)
{"appName":"hello","appInstID":"MIRZ","start":"2022-06-10 07:32:37","severity":"INFO","message":"0000000000000000 server is running at :8000","location":"server.(*GracefullyShutdown).RunWithGracefullyShutdown:40","time":"2022-06-10 07:32:37"}

```
From the output, notice that this apps is running on port 8000

using other terminal / console / web browser, try the curl

```shell
$ curl localhost:8000/gethello
```

The output 
```shell
{"success":true,"errorCode":"","errorMessage":"","data":{"message":"Hello World"},"traceId":"RG06MQ0BQHR6UE6O"}
```

Congratulation you already write your very simple gogen apps. 




