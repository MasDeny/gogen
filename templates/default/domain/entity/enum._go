package entity

import (
	"fmt"
	"strings"
)

const ( {{range .EnumValues}}
	{{PascalCase .}}{{PascalCase $.EnumName}}  = {{PascalCase $.EnumName}}("{{UpperCase .}}") {{end}}
)

var enum = map[{{PascalCase .EnumName}}]{{PascalCase .EnumName}}Structure{ {{range .EnumValues}}
	{{PascalCase .}}{{PascalCase $.EnumName}}: {}, {{end}}
}

type {{PascalCase .EnumName}} string

type {{PascalCase .EnumName}}Structure struct { //
}

func New{{PascalCase .EnumName}}(name string) ({{PascalCase .EnumName}}, error) {
	name = strings.ToUpper(name)

	_, exist := enum[{{PascalCase .EnumName}}(name)]
	if !exist {
		return "", fmt.Errorf("Unrecognized Enum. Please register this error to shared/error_enum.go")
	}

	return {{PascalCase .EnumName}}(name), nil
}